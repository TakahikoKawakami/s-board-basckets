from pydantic import BaseModel
from typing import Optional, List
import datetime


class Transaction(BaseModel):
    """取引entity
    """
    head: 'TransactionHead'
    details: List['TransactionDetail']


class TransactionDetail(BaseModel):
    transaction_head_id: Optional[int]
    transaction_detail_id: Optional[int]
    parent_transaction_detail_id: Optional[int]
    transaction_detail_division: Optional[int]
    product_id: Optional[int]
    product_code: Optional[str]
    product_name: Optional[str]
    print_receipt_product_name: Optional[str]
    color: Optional[str]
    size: Optional[str]
    group_code: Optional[str]
    tax_division: Optional[int]
    price: Optional[int]
    sales_price: Optional[int]
    unit_discount_price: Optional[int]
    unit_discount_rate: Optional[float]
    unit_discount_division: Optional[int]
    cost: Optional[float]
    quantity: Optional[int]
    unit_non_discount_sum: Optional[int]
    unit_discount_sum: Optional[int]
    unit_discounted_sum: Optional[int]
    cost_sum: Optional[float]
    category_id: Optional[int]
    category_name: Optional[str]
    discrimination_no: Optional[str]
    sales_division: Optional[int]
    product_division: Optional[int]
    inventory_reservation_division: Optional[int]
    point_not_applicable: Optional[bool]
    calc_discount: Optional[int]
    tax_free_division: Optional[int]
    tax_free_commodity_price: Optional[int]
    tax_free: Optional[int]
    product_bundle_group_id: Optional[int]
    discount_price_proportional: Optional[int]
    discount_point_proportional: Optional[int]
    discount_coupon_proportional: Optional[int]
    tax_include_proportional: Optional[int]
    tax_exclude_proportional: Optional[int]
    product_bundle_proportional: Optional[int]
    staff_discount_proportional: Optional[int]
    bargain_discount_proportional: Optional[int]
    rounding_price_proportional: Optional[int]
    product_staff_discount_rate: Optional[int]
    staff_rank: Optional[int]
    staff_rank_name: Optional[str]
    staff_discount_rate: Optional[int]
    staff_discount_division: Optional[int]
    apply_staff_discount_rate: Optional[int]
    apply_staff_discount_price: Optional[int]
    bargain_id: Optional[int]
    bargain_name: Optional[str]
    bargain_division: Optional[int]
    bargain_value: Optional[int]
    apply_bargain_value: Optional[int]
    apply_bargain_discount_price: Optional[int]
    tax_rate: Optional[float]
    standard_tax_rate: Optional[float]
    modified_tax_rate: Optional[float]
    reduce_tax_id: Optional[int]
    reduce_tax_name: Optional[str]
    reduce_tax_rate: Optional[float]
    reduce_tax_price: Optional[int]
    reduce_tax_member_price: Optional[int]


class TransactionHead(BaseModel):
    transaction_head_id: Optional[int]
    transaction_date_time: Optional[datetime.datetime]
    transaction_head_division: Optional[int]
    cancel_division: Optional[int]
    unit_non_discountsubtotal: Optional[int]
    unit_discountsubtotal: Optional[int]
    unit_staff_discountsubtotal: Optional[int]
    unit_bargain_discountsubtotal: Optional[int]
    subtotal: Optional[int]
    subtotal_for_discount: Optional[int]
    subtotal_discount_price: Optional[int]
    subtotal_discount_rate: Optional[float]
    subtotal_discount_division: Optional[int]
    point_discount: Optional[int]
    coupon_discount: Optional[int]
    total: Optional[int]
    tax_include: Optional[int]
    tax_exclude: Optional[int]
    rounding_division: Optional[int]
    rounding_price: Optional[int]
    cash_total: Optional[int]
    credit_total: Optional[int]
    deposit: Optional[int]
    deposit_cash: Optional[int]
    deposit_credit: Optional[int]
    change: Optional[int]
    tip_cash: Optional[int]
    tip_credit: Optional[int]
    amount: Optional[int]
    return_amount: Optional[int]
    cost_total: Optional[float]
    sales_head_division: Optional[int]
    in_tax_sales_total: Optional[int]
    out_tax_sales_total: Optional[int]
    non_tax_sales_total: Optional[int]
    non_sales_target_total: Optional[int]
    non_sales_target_out_tax_total: Optional[int]
    non_sales_target_in_tax_total: Optional[int]
    non_sales_target_tax_free_total: Optional[int]
    non_sales_target_cost_total: Optional[float]
    non_sales_target_amount: Optional[int]
    non_sales_target_return_amount: Optional[int]
    new_point: Optional[int]
    spend_point: Optional[int]
    point: Optional[int]
    total_point: Optional[int]
    current_mile: Optional[int]
    earn_mile: Optional[int]
    total_mile: Optional[int]
    adjustment_mile: Optional[int]
    adjustment_mile_division: Optional[int]
    adjustment_mile_value: Optional[int]
    store_id: Optional[int]
    # store_code: Optional[str]
    terminal_id: Optional[int]
    customer_id: Optional[int]
    # customer_code: Optional[str]
    terminal_tran_id: Optional[int]
    terminal_tran_date_time: Optional[datetime.datetime]
    sum_division: Optional[int]
    adjustment_date_time: Optional[datetime.datetime]
    sum_date: Optional[datetime.date]
    customer_rank: Optional[int]
    customer_group_id: Optional[int]
    customer_group_id2: Optional[int]
    customer_group_id3: Optional[int]
    customer_group_id4: Optional[int]
    customer_group_id5: Optional[int]
    staff_id: Optional[int]
    # staff_code: Optional[str]
    staff_name: Optional[str]
    credit_division: Optional[int]
    payment_count: Optional[int]
    slip_number: Optional[int]
    cancel_slip_number: Optional[int]
    auth_number: Optional[int]
    auth_date: Optional[datetime.datetime]
    card_company: Optional[str]
    denomination: Optional[str]
    memo: Optional[str]
    receipt_memo: Optional[str]
    carriage: Optional[int]
    commission: Optional[int]
    guest_numbers: Optional[int]
    guest_numbers_male: Optional[int]
    guest_numbers_female: Optional[int]
    guest_numbers_unknown: Optional[int]
    enter_date_time: Optional[datetime.datetime]
    tax_free_sales_division: Optional[int]
    net_tax_free_general_tax_include: Optional[int]
    net_tax_free_general_tax_exclude: Optional[int]
    net_tax_free_consumable_tax_include: Optional[int]
    net_tax_free_consumable_tax_exclude: Optional[int]
    tags: Optional[str]
    point_giving_division: Optional[int]
    point_giving_unit_price: Optional[int]
    point_giving_unit: Optional[float]
    point_spend_division: Optional[int]
    mileage_division: Optional[int]
    mileage_label: Optional[str]
    customer_pin_code: Optional[str]
    return_sales: Optional[int]
    dispose_division: Optional[int]
    dispose_server_transaction_head_id: Optional[int]
    cancel_date_time: Optional[datetime.datetime]
    sell_division: Optional[int]
    tax_rate: Optional[float]
    tax_rounding: Optional[int]
    discount_rounding_division: Optional[int]
    transaction_uuid: Optional[datetime.datetime]
    exchange_ticket_no: Optional[int]
    gift_receipt_valid_days: Optional[datetime.date]
    barcode: Optional[str]
    upd_date_time: Optional[datetime.datetime]


Transaction.update_forward_refs()
